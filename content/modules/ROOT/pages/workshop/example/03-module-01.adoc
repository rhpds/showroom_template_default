= Module 1: Container fundamentals
:source-highlighter: rouge
:toc: macro
:toclevels: 1

In this module, you'll learn container basics and get hands-on experience with container operations.

== Learning objectives
By the end of this module, you'll be able to:

* Understand what containers are and their benefits
* Run and manage container instances
* Work with container images and registries
* Perform basic container lifecycle operations

=== Know
_Let's understand container fundamentals and how they can help solve ACME's deployment challenges._

**Why containers are useful for ACME:**

* **Environment consistency**: Containers package applications with their dependencies, reducing environment-related issues
* **Faster deployment**: Applications can be deployed quickly across different environments
* **Better resource utilization**: Multiple containers can run efficiently on the same hardware
* **Simplified management**: Standardized way to package and deploy applications

**Key concepts:**
* **Container Image**: A packaged application with all its dependencies, ready to run
* **Container Instance**: A running container created from an image
* **Registry**: A service for storing and sharing container images
* **Container Runtime**: Software that runs containers (we'll use Podman)

**How this helps ACME:**
Instead of manually configuring servers for each deployment, containers provide a consistent, repeatable way to package and deploy applications across different environments.

// Conceptual diagram showing container architecture
image::container-architecture.png[align="center",width=600,title="Container Architecture Overview"]

=== Show
Let's run your first container to see how the deployment process works.

. Verify that Podman is installed and working:
+
[source,bash]
----
podman version
----

. Download a pre-built web server image:
+
[source,bash]
----
podman pull registry.redhat.io/rhel8/httpd-24
----

. List the images available on your system:
+
[source,bash]
----
podman images
----

. Run your first container:
+
[source,bash]
----
podman run -d --name my-web-server -p 8080:8080 registry.redhat.io/rhel8/httpd-24
----

. Check that the container is running:
+
[source,bash]
----
podman ps
----

. Test the web server by opening http://localhost:8080 in your browser
+
You should see a test page, confirming that your container is running and serving web traffic.

// Screenshot showing successful container startup
image::first-container-running.png[align="center",width=500,title="First Container Successfully Running"]

== Exercise 2: Container lifecycle management

In this exercise, you will practice controlling container states and examining container information.

=== Prerequisites
* Container from Exercise 1 should be running
* Web browser access to test functionality

=== Steps

. Check the status of all containers (running and stopped):
+
[source,bash]
----
podman ps -a
----

. View container logs to see what the web server is doing:
+
[source,bash]
----
podman logs my-web-server
----

. Execute a command inside the running container:
+
[source,bash]
----
podman exec -it my-web-server /bin/bash
----

. Inside the container, explore the filesystem and then exit:
+
[source,bash]
----
ls -la /opt/app-root/src/
ps aux
exit
----

. Stop the container:
+
[source,bash]
----
podman stop my-web-server
----

. Verify the container is stopped:
+
[source,bash]
----
podman ps -a
----

. Restart the container and verify it works:
+
[source,bash]
----
podman start my-web-server
curl http://localhost:8080
----

=== Troubleshooting
**Issue**: Container fails to start
**Solution**: Check if port 8080 is already in use: `netstat -tulpn | grep 8080`

**Issue**: Can't access web server
**Solution**: Verify container is running and port mapping: `podman port my-web-server`

== Exercise 3: Working with container registries

In this exercise, you will explore container registries and practice image management operations.

=== Steps

. Search for available Red Hat images:
+
[source,bash]
----
podman search registry.redhat.io/rhel8 --limit 5
----

. Examine detailed information about your image:
+
[source,bash]
----
podman inspect registry.redhat.io/rhel8/httpd-24
----

. View the layers that make up the image:
+
[source,bash]
----
podman history registry.redhat.io/rhel8/httpd-24
----

. Create a custom tag for your image:
+
[source,bash]
----
podman tag registry.redhat.io/rhel8/httpd-24 acme/web-server:v1.0
----

. List all images including your new tag:
+
[source,bash]
----
podman images
----

. Clean up by stopping and removing the container:
+
[source,bash]
----
podman stop my-web-server
podman rm my-web-server
----

== Module summary

You've successfully run and managed your first container, demonstrating the basic container workflow.

**What you accomplished:**
* Ran a containerized web server with minimal configuration
* Learned basic container commands (pull, run, ps)
* Saw how quickly containers can be deployed
* Experienced consistent behavior across different environments

**Key takeaways:**
* Containers provide a standardized way to package and run applications
* Container deployment is faster than traditional server provisioning
* The same container will behave consistently in different environments
* Container management uses straightforward commands

**Next steps:**
Module 2 will show you how to create custom container images and containerize existing applications for ACME's specific use cases.